<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Food Detail</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin:0;
  font-family:Arial;
  background:#f9f9f9;
}
img {
  width:100%;
  height:260px;
  object-fit:cover;
}
.container {
  padding:15px;
}
.qty {
  display:flex;
  gap:20px;
  align-items:center;
  margin:20px 0;
}
button {
  padding:10px 16px;
}
.add {
  width:100%;
  background:#111;
  color:white;
  border:none;
  border-radius:8px;
  font-size:16px;
}
</style>
</head>

<body>

<img id="img">

<div class="container">
  <h2 id="name"></h2>
  <p id="code"></p>
  <p id="desc"></p>
  <h3 id="price"></h3>

  <div class="qty">
    <button onclick="chg(-1)">âˆ’</button>
    <span id="qty">1</span>
    <button onclick="chg(1)">+</button>
  </div>

  <button class="add" onclick="addCart()">Add to Cart</button>
</div>

<script>
const p = new URLSearchParams(location.search);
const food = {
  name: p.get("name"),
  code: p.get("code"),
  price: Number(p.get("price")),
  desc: p.get("desc"),
  img: p.get("img")
};

document.getElementById("img").src = food.img;
document.getElementById("name").innerText = food.name;
document.getElementById("code").innerText = food.code;
document.getElementById("desc").innerText = food.desc;
document.getElementById("price").innerText = "RM " + food.price;

let qty = 1;
function chg(n){
  qty += n;
  if(qty < 1) qty = 1;
  document.getElementById("qty").innerText = qty;
}

function addCart(){
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");

  cart.push({
    ...food,
    qty: qty
  });

  localStorage.setItem("cart", JSON.stringify(cart));
  alert("Added to cart ðŸ›’");
  history.back();
}
</script>

</body>
</html>